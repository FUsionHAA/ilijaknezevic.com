// import React, { Component } from 'react'
// import styles from './Language.module.css'
// import eng from '../../images/icons/eng.svg'
// import srb from '../../images/icons/srb.svg'
// import { LanguageContext } from '../../contexts/LanguageContext'

// class Language extends Component {
//     state = {
//         lang: 1
//     }

//     static contextType = LanguageContext

//     handleLanguage = () => {
//         if (this.state.lang === 1) {
//             return (
//                 <svg version="1.0" xmlns={eng} className={styles.english} width="4rem" height="4rem" viewBox="0 0 880.000000 828.000000" preserveAspectRatio="xMidYMid meet">
//                     <g transform="translate(0.000000,828.000000) scale(0.100000,-0.100000)" stroke="none">
//                         <path d="M4165 7873 c-1100 -53 -2058 -384 -2780 -962 -149 -119 -354 -322 -465 -461 -558 -698 -671 -1531 -311 -2285 447 -933 1545 -1632 2906 -1850 313 -50 534 -66 880 -66 370 0 623 21 943 76 79 14 148 25 155 25 7 0 22 -15 33 -33 46 -71 226 -288 341 -412 281 -302 694 -642 1138 -936 213 -141 375 -242 375 -233 0 3 -60 105 -134 227 -343 570 -503 907 -615 1297 -33 116 -91 376 -91 410 0 5 73 46 163 91 272 136 486 272 712 452 135 107 402 378 498 504 395 520 550 1085 457 1668 -154 963 -1013 1805 -2267 2224 -588 197 -1308 295 -1938 264z m580 -498 c1035 -101 1896 -404 2480 -871 412 -330 659 -711 756 -1164 20 -91 23 -136 23 -330 1 -229 -5 -291 -45 -455 -51 -209 -158 -451 -279 -635 -277 -420 -703 -759 -1275 -1016 l-160 -72 -3 -54 c-13 -203 111 -638 304 -1061 30 -66 52 -122 49 -125 -14 -14 -331 263 -540 472 -184 185 -312 335 -410 483 -31 46 -59 83 -63 83 -4 0 -76 -14 -161 -30 -391 -77 -851 -111 -1241 -92 -972 48 -1807 337 -2480 858 -133 103 -366 331 -464 454 -223 279 -379 601 -447 920 -20 90 -23 136 -23 330 -1 200 2 236 22 328 61 274 186 528 372 762 88 109 298 316 420 412 554 436 1370 739 2175 808 66 5 140 12 165 14 104 9 675 -4 825 -19z" />
//                         <path d="M6200 6035 c-414 -68 -714 -299 -831 -638 -77 -223 -79 -507 -6 -722 119 -349 393 -553 811 -605 122 -16 396 -8 521 14 94 17 283 62 322 77 l23 9 -2 512 -3 513 -362 3 -363 2 0 -175 0 -175 150 0 150 0 0 -200 0 -200 -27 -11 c-49 -20 -259 -23 -343 -5 -229 48 -393 212 -444 443 -20 90 -20 255 -1 348 36 172 144 312 297 385 107 52 195 70 340 70 147 0 249 -14 361 -50 62 -20 89 -25 92 -17 10 29 85 324 85 334 0 16 -92 49 -207 73 -129 28 -437 36 -563 15z" />
//                         <path d="M1850 5055 l0 -975 625 0 625 0 0 180 0 180 -405 0 -405 0 0 235 0 235 360 0 360 0 0 180 0 180 -360 0 -360 0 0 200 0 200 385 0 385 0 0 180 0 180 -605 0 -605 0 0 -975z" />
//                         <path d="M3400 5055 l0 -975 205 0 205 0 0 403 c0 221 -5 544 -10 716 -5 173 -8 316 -7 317 1 2 25 -47 52 -109 84 -191 193 -400 456 -872 l253 -455 233 0 233 0 0 975 0 975 -206 0 -207 0 6 -512 c5 -454 13 -649 32 -823 5 -46 1 -38 -53 85 -99 227 -214 446 -449 857 l-225 393 -259 0 -259 0 0 -975z" />
//                     </g>
//                 </svg>
//             )
//         } else {
//             return (
//                 <svg version="1.0" xmlns={srb} className={styles.serbian} width="4rem" height="4rem" viewBox="0 0 880.000000 828.000000" preserveAspectRatio="xMidYMid meet">
//                     <g transform="translate(0.000000,828.000000) scale(0.100000,-0.100000)" stroke="none">
//                         <path d="M4165 7873 c-1100 -53 -2058 -384 -2780 -962 -149 -119 -354 -322 -465 -461 -558 -698 -671 -1531 -311 -2285 447 -933 1545 -1632 2906 -1850 313 -50 534 -66 880 -66 370 0 623 21 943 76 79 14 148 25 155 25 7 0 22 -15 33 -33 46 -71 226 -288 341 -412 281 -302 694 -642 1138 -936 213 -141 375 -242 375 -233 0 3 -60 105 -134 227 -343 570 -503 907 -615 1297 -33 116 -91 376 -91 410 0 5 73 46 163 91 272 136 486 272 712 452 135 107 402 378 498 504 395 520 550 1085 457 1668 -154 963 -1013 1805 -2267 2224 -588 197 -1308 295 -1938 264z m580 -498 c1035 -101 1896 -404 2480 -871 412 -330 659 -711 756 -1164 20 -91 23 -136 23 -330 1 -229 -5 -291 -45 -455 -51 -209 -158 -451 -279 -635 -277 -420 -703 -759 -1275 -1016 l-160 -72 -3 -54 c-13 -203 111 -638 304 -1061 30 -66 52 -122 49 -125 -14 -14 -331 263 -540 472 -184 185 -312 335 -410 483 -31 46 -59 83 -63 83 -4 0 -76 -14 -161 -30 -391 -77 -851 -111 -1241 -92 -972 48 -1807 337 -2480 858 -133 103 -366 331 -464 454 -223 279 -379 601 -447 920 -20 90 -23 136 -23 330 -1 200 2 236 22 328 61 274 186 528 372 762 88 109 298 316 420 412 554 436 1370 739 2175 808 66 5 140 12 165 14 104 9 675 -4 825 -19z" />
//                         <path d="M2527 6015 c-206 -39 -377 -145 -477 -295 -77 -115 -103 -314 -60 -454 57 -182 236 -332 525 -436 207 -75 313 -148 335 -231 34 -125 -47 -230 -200 -259 -144 -27 -364 6 -543 82 -38 16 -71 28 -73 25 -5 -5 -95 -369 -92 -372 28 -23 192 -78 308 -102 66 -14 129 -18 275 -17 173 0 199 3 290 27 313 83 496 284 512 562 10 171 -37 297 -156 416 -94 94 -178 143 -374 221 -196 77 -280 122 -322 170 -77 91 -48 205 68 265 105 54 351 41 526 -27 41 -16 76 -28 77 -27 3 3 92 329 96 351 2 15 -10 24 -62 43 -124 47 -224 64 -405 68 -123 3 -192 0 -248 -10z" />
//                         <path d="M3945 6003 c-111 -9 -263 -25 -282 -30 l-23 -5 0 -994 0 -994 225 0 225 0 0 401 0 402 119 -5 c104 -4 127 -9 176 -32 93 -46 126 -105 181 -328 44 -179 100 -372 120 -409 l15 -29 233 0 234 0 -23 68 c-13 37 -53 178 -89 314 -87 326 -113 393 -189 476 -23 25 -61 58 -85 73 l-43 27 63 33 c76 40 193 154 230 225 79 148 77 354 -5 508 -87 164 -265 263 -537 296 -76 9 -445 11 -545 3z m450 -344 c159 -29 237 -117 237 -265 0 -60 -4 -81 -28 -124 -63 -115 -176 -160 -406 -160 l-108 0 0 274 0 275 53 4 c114 8 196 6 252 -4z" />
//                         <path d="M5710 6003 c-76 -5 -244 -24 -267 -30 l-23 -5 0 -988 c0 -849 2 -989 14 -993 42 -16 330 -29 539 -24 312 7 477 37 637 115 92 45 200 149 247 237 82 157 84 352 5 499 -54 101 -181 205 -289 237 -24 7 -43 15 -43 18 0 4 28 21 63 38 239 117 325 384 199 617 -76 139 -277 246 -522 276 -76 9 -447 11 -560 3z m548 -362 c94 -42 141 -124 128 -221 -20 -147 -159 -220 -418 -220 l-98 0 0 228 c0 126 3 232 7 236 5 4 80 6 168 4 142 -3 166 -6 213 -27z m-77 -785 c75 -16 131 -42 178 -82 95 -80 105 -254 21 -356 -39 -47 -136 -94 -220 -108 -71 -11 -249 -14 -274 -4 -14 5 -16 40 -16 285 l0 279 123 0 c67 0 152 -7 188 -14z" />
//                     </g>
//                 </svg>
//             )
//         }
//     }

//     handleLanguageChange = () => {
//         if (this.state.lang === 1) {
//             this.setState({ lang: 2 })
//         } else {
//             this.setState({ lang: 1 })
//         }
//     }

//     render() {
//         const { toggleLanguage } = this.context
//         return (
//             <div className={styles.lang} onClick={() => {this.handleLanguageChange(); toggleLanguage()}}>
//                 {this.handleLanguage()}
//             </div>
//         );
//     }
// }

// export default Language;

import React, { Component } from 'react'
import styles from './Language.module.css'
import eng from '../../images/icons/eng.svg'
import srb from '../../images/icons/srb.svg'
import { LanguageContext } from '../../contexts/LanguageContext'

class Language extends Component {
    state = {
        lang: ''
    }

    static contextType = LanguageContext

    componentDidMount = () => {
        if (window.localStorage.length === 0) {
            localStorage.setItem('lang', 1)
            this.setState({ lang: Number(localStorage.getItem('lang')) })
        } else {
            this.setState({ lang: Number(localStorage.getItem('lang')) })
        }
    }

    handleLanguageChange = () => {
        if (this.state.lang === 1) {
            localStorage.setItem('lang', 2)
            this.setState({ lang: Number(localStorage.getItem('lang')) })
        } else {
            localStorage.setItem('lang', 1)
            this.setState({ lang: Number(localStorage.getItem('lang')) })
        }
    }

    handleLanguage = () => {
        if (this.state.lang === 1) {
            return (
                <svg version="1.0" xmlns={eng} className={styles.english} width="4rem" height="4rem" viewBox="0 0 880.000000 828.000000" preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,828.000000) scale(0.100000,-0.100000)" stroke="none">
                        <path d="M4165 7873 c-1100 -53 -2058 -384 -2780 -962 -149 -119 -354 -322 -465 -461 -558 -698 -671 -1531 -311 -2285 447 -933 1545 -1632 2906 -1850 313 -50 534 -66 880 -66 370 0 623 21 943 76 79 14 148 25 155 25 7 0 22 -15 33 -33 46 -71 226 -288 341 -412 281 -302 694 -642 1138 -936 213 -141 375 -242 375 -233 0 3 -60 105 -134 227 -343 570 -503 907 -615 1297 -33 116 -91 376 -91 410 0 5 73 46 163 91 272 136 486 272 712 452 135 107 402 378 498 504 395 520 550 1085 457 1668 -154 963 -1013 1805 -2267 2224 -588 197 -1308 295 -1938 264z m580 -498 c1035 -101 1896 -404 2480 -871 412 -330 659 -711 756 -1164 20 -91 23 -136 23 -330 1 -229 -5 -291 -45 -455 -51 -209 -158 -451 -279 -635 -277 -420 -703 -759 -1275 -1016 l-160 -72 -3 -54 c-13 -203 111 -638 304 -1061 30 -66 52 -122 49 -125 -14 -14 -331 263 -540 472 -184 185 -312 335 -410 483 -31 46 -59 83 -63 83 -4 0 -76 -14 -161 -30 -391 -77 -851 -111 -1241 -92 -972 48 -1807 337 -2480 858 -133 103 -366 331 -464 454 -223 279 -379 601 -447 920 -20 90 -23 136 -23 330 -1 200 2 236 22 328 61 274 186 528 372 762 88 109 298 316 420 412 554 436 1370 739 2175 808 66 5 140 12 165 14 104 9 675 -4 825 -19z" />
                        <path d="M6200 6035 c-414 -68 -714 -299 -831 -638 -77 -223 -79 -507 -6 -722 119 -349 393 -553 811 -605 122 -16 396 -8 521 14 94 17 283 62 322 77 l23 9 -2 512 -3 513 -362 3 -363 2 0 -175 0 -175 150 0 150 0 0 -200 0 -200 -27 -11 c-49 -20 -259 -23 -343 -5 -229 48 -393 212 -444 443 -20 90 -20 255 -1 348 36 172 144 312 297 385 107 52 195 70 340 70 147 0 249 -14 361 -50 62 -20 89 -25 92 -17 10 29 85 324 85 334 0 16 -92 49 -207 73 -129 28 -437 36 -563 15z" />
                        <path d="M1850 5055 l0 -975 625 0 625 0 0 180 0 180 -405 0 -405 0 0 235 0 235 360 0 360 0 0 180 0 180 -360 0 -360 0 0 200 0 200 385 0 385 0 0 180 0 180 -605 0 -605 0 0 -975z" />
                        <path d="M3400 5055 l0 -975 205 0 205 0 0 403 c0 221 -5 544 -10 716 -5 173 -8 316 -7 317 1 2 25 -47 52 -109 84 -191 193 -400 456 -872 l253 -455 233 0 233 0 0 975 0 975 -206 0 -207 0 6 -512 c5 -454 13 -649 32 -823 5 -46 1 -38 -53 85 -99 227 -214 446 -449 857 l-225 393 -259 0 -259 0 0 -975z" />
                    </g>
                </svg>
            )
        } else {
            return (
                <svg version="1.0" xmlns={srb} className={styles.serbian} width="4rem" height="4rem" viewBox="0 0 880.000000 828.000000" preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,828.000000) scale(0.100000,-0.100000)" stroke="none">
                        <path d="M4165 7873 c-1100 -53 -2058 -384 -2780 -962 -149 -119 -354 -322 -465 -461 -558 -698 -671 -1531 -311 -2285 447 -933 1545 -1632 2906 -1850 313 -50 534 -66 880 -66 370 0 623 21 943 76 79 14 148 25 155 25 7 0 22 -15 33 -33 46 -71 226 -288 341 -412 281 -302 694 -642 1138 -936 213 -141 375 -242 375 -233 0 3 -60 105 -134 227 -343 570 -503 907 -615 1297 -33 116 -91 376 -91 410 0 5 73 46 163 91 272 136 486 272 712 452 135 107 402 378 498 504 395 520 550 1085 457 1668 -154 963 -1013 1805 -2267 2224 -588 197 -1308 295 -1938 264z m580 -498 c1035 -101 1896 -404 2480 -871 412 -330 659 -711 756 -1164 20 -91 23 -136 23 -330 1 -229 -5 -291 -45 -455 -51 -209 -158 -451 -279 -635 -277 -420 -703 -759 -1275 -1016 l-160 -72 -3 -54 c-13 -203 111 -638 304 -1061 30 -66 52 -122 49 -125 -14 -14 -331 263 -540 472 -184 185 -312 335 -410 483 -31 46 -59 83 -63 83 -4 0 -76 -14 -161 -30 -391 -77 -851 -111 -1241 -92 -972 48 -1807 337 -2480 858 -133 103 -366 331 -464 454 -223 279 -379 601 -447 920 -20 90 -23 136 -23 330 -1 200 2 236 22 328 61 274 186 528 372 762 88 109 298 316 420 412 554 436 1370 739 2175 808 66 5 140 12 165 14 104 9 675 -4 825 -19z" />
                        <path d="M2527 6015 c-206 -39 -377 -145 -477 -295 -77 -115 -103 -314 -60 -454 57 -182 236 -332 525 -436 207 -75 313 -148 335 -231 34 -125 -47 -230 -200 -259 -144 -27 -364 6 -543 82 -38 16 -71 28 -73 25 -5 -5 -95 -369 -92 -372 28 -23 192 -78 308 -102 66 -14 129 -18 275 -17 173 0 199 3 290 27 313 83 496 284 512 562 10 171 -37 297 -156 416 -94 94 -178 143 -374 221 -196 77 -280 122 -322 170 -77 91 -48 205 68 265 105 54 351 41 526 -27 41 -16 76 -28 77 -27 3 3 92 329 96 351 2 15 -10 24 -62 43 -124 47 -224 64 -405 68 -123 3 -192 0 -248 -10z" />
                        <path d="M3945 6003 c-111 -9 -263 -25 -282 -30 l-23 -5 0 -994 0 -994 225 0 225 0 0 401 0 402 119 -5 c104 -4 127 -9 176 -32 93 -46 126 -105 181 -328 44 -179 100 -372 120 -409 l15 -29 233 0 234 0 -23 68 c-13 37 -53 178 -89 314 -87 326 -113 393 -189 476 -23 25 -61 58 -85 73 l-43 27 63 33 c76 40 193 154 230 225 79 148 77 354 -5 508 -87 164 -265 263 -537 296 -76 9 -445 11 -545 3z m450 -344 c159 -29 237 -117 237 -265 0 -60 -4 -81 -28 -124 -63 -115 -176 -160 -406 -160 l-108 0 0 274 0 275 53 4 c114 8 196 6 252 -4z" />
                        <path d="M5710 6003 c-76 -5 -244 -24 -267 -30 l-23 -5 0 -988 c0 -849 2 -989 14 -993 42 -16 330 -29 539 -24 312 7 477 37 637 115 92 45 200 149 247 237 82 157 84 352 5 499 -54 101 -181 205 -289 237 -24 7 -43 15 -43 18 0 4 28 21 63 38 239 117 325 384 199 617 -76 139 -277 246 -522 276 -76 9 -447 11 -560 3z m548 -362 c94 -42 141 -124 128 -221 -20 -147 -159 -220 -418 -220 l-98 0 0 228 c0 126 3 232 7 236 5 4 80 6 168 4 142 -3 166 -6 213 -27z m-77 -785 c75 -16 131 -42 178 -82 95 -80 105 -254 21 -356 -39 -47 -136 -94 -220 -108 -71 -11 -249 -14 -274 -4 -14 5 -16 40 -16 285 l0 279 123 0 c67 0 152 -7 188 -14z" />
                    </g>
                </svg>
            )
        }
    }

    render() {
        const { toggleLanguage } = this.context
        return (
            <div className={styles.lang} onClick={() => { this.handleLanguageChange(); toggleLanguage() }}>
                {this.handleLanguage()}
            </div>
        );
    }
}

export default Language;